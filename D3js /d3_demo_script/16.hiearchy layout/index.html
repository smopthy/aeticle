<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- 	<script src="https://d3js.org/d3-hierarchy.v1.min.js"></script> -->
<!-- 	<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script> -->

	<title>again</title>

	<script src="../libraries/d3vs.js"></script>

	<style></style>
</head>
<body>
<!-- 	<svg id = "canvas" height = "1500px" width = "1500px"> </svg>  -->
	<script >
		// topic : cluster and pack(bubble )-layout // d3 v3 edition 
		// this is a hiearchy layout 
		// root node conatain everthing else 

		// 
 
       var width = 800 ;
       var height = 600 ; 

       var canvas = d3.select("body").append("svg")
				.attr("width",width)
				.attr("height",height)
				.append("g")
				.attr("transform","translate(50,50)"); 

		var pack = d3.layout.pack()
				.size([width,height - 50 ])
				// .padding(10)

		d3.json("data3.json" , function (data){

			var nodes = pack.nodes(data)
			console.log(nodes);

			
			var node = canvas.selectAll(".node")
					.data(nodes)
					.enter()
					.append("g")
					.attr("class","node")
					.attr("transform" , function(d){ return "translate("+d.x+" ,"+d.y+")"})

				node.append("circle")
					.attr("r" , function(d){return d.r} )
					.attr("fill",function(d){return d.children ? "#fff" : "pink"})
					.attr("opacity" , 1)
					.attr("stroke",function(d){return d.children ? "#fff" : "black"})
					.attr("stroke-width","1")

				node.append("text")
					.text(function (d){return d.children ?  "" :  d.name + d.value })
					.attr("text-anchor", "middle")

					  					//if property has child then " " else d.name

		})


	






	</script>
</body>
</html>
