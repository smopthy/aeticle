<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- 	<script src="https://d3js.org/d3-hierarchy.v1.min.js"></script> -->
<!-- 	<script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script> -->

	<title>again</title>

	<script src="libraries/d3vs.js"></script>

	<style></style>
</head>
<body>
	<!-- <svg id = "canvas" height = "1500px" width = "1500px"> </svg>  -->
	<script >
		// topic : population


		d3.csv("population_age.csv", function(data){


				var width = 800 ; 
				var height = 800 ;
				var padding = 10 ;

				var map = data.map(function (d){return parseInt(d.age)})

				var histogram = d3.layout.histogram()
					 .bins(8) 
					(map)
					// bin ： 分組
					//find the specify data
					console.log(histogram)
					//dx = > 長條圖的width;, x => 起點 Y 高度 
				var canvas = d3.select("body").append("svg")
					.attr("width",width)
					.attr("height",height)
				var bar = canvas.selectAll(".bar")
					.data(histogram)
					.enter()
					.append("g")

				bar.append("rect")
					.attr("x" , function (d){return d.x *5})
					.attr("y" , 0 )
					.attr("width" , function(d) {return d.dx * 5; })
					.attr("height" , function(d) { return d.y*10})
					.attr("stroke","black")
					.attr("fill","pink")

		})

	</script>
</body>
</html>
